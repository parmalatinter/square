<div layout-align="center center">
    <md-subheader ng-if="file.name" class="md-no-sticky">Updating {{file.name}}</md-subheader>
    <input type="file" file-model="file" id="upload_photo" style="display:none">
    <md-tabs md-dynamic-height md-border-bottom>
        <md-tab label="Messages" style="height: 70vh;">
            <div layout="row">
                <md-input-container class="md-block chat" flex>
                    <label>Add comment</label>
                    <input ng-model="comment">
                </md-input-container>
                <md-button class="md-primary" ng-click="addComment()">
                    add
                </md-button>
            </div>
            <md-virtual-repeat-container id="vertical-container" md-top-index="topIndex">
                <div md-virtual-repeat="comment in dataset" md-on-demand="{{onDemand}}" class="messageView font-game">
                    <span ng-if="comment.detail" style="font-size:30px">{{comment.detail}}</span>
                    <span ng-if="comment.imageUrl" class="updateImageWrap"><img ng-src="{{comment.imageUrl}}?v={{setting.cache.number}}"></span>
                    <br/>
                    <div style="margin-top:5px">{{comment.name}} {{comment.date}}</div>
                </div>
            </md-virtual-repeat-container>
        </md-tab>
        <md-tab label="Photos" style="height: 70vh;">
            <md-virtual-repeat-container id="vertical-container2" md-top-index="topIndex">
                <div md-virtual-repeat="comment in imageDataset" md-on-demand="{{onDemand}}">
                    <div class="messageView font-game">
                        <span ng-if="comment.imageUrl" class="updateFullImageWrap"><img ng-src="{{comment.imageUrl}}?v={{setting.cache.number}}"></span>
                        <div ng-if="comment.imageUrl" style="margin-top:5px">{{comment.name}} {{comment.date}}</div>
                    </div>
                </div>
            </md-virtual-repeat-container>
        </md-tab>
        <md-tab label="Setting" style="height: 70vh;">
            <div ayout-gt-sm="row" style="background-color:white">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Name</label>
                    <input ng-model="chat.title">
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Name</label>
                    <input ng-model="chat.name">
                </md-input-container>
            </div>
        </md-tab>
    </md-tabs>
</div>
